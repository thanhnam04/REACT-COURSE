<!DOCTYPE html>
<html>
  <head>
    <title>Chatbot</title>
  </head>
  <body>
    <div class="js-container"></div>

    <script src="https://unpkg.com/supersimpledev/react.js"></script>
    <script src="https://unpkg.com/supersimpledev/react-dom.js"></script>

    <script src="https://unpkg.com/supersimpledev/babel.js"></script>

    <script type="text/babel">

      function ChatInput()
      {
          return (
            <>
              <input 
                placeholder="Send message to Chatbot" 
                size = "30"
              /> 
              <button>Send</button>
            </>
          );
      }



      function ChatMessage ({ message, sender})
      { 
        // C1
        // const message = props.message
        // const sender  = props.sender
        // C2
        // Shortcut làm code gọn hơn 
        // Destructure: Tái cấu trúc mã
        // const {message} = props;
        // const {sender} = props;


        // if (sender==='robot')
        //   {
        //     return (
        //       <div>
        //       <img src="img/robot.png" width="50" />
        //       {message} 
        //       </div>
        //     )
        //   }

        /*
        () giúp chúng ta tách dòng xuống và làm gọn code mà không gây lỗi. Giống như nó giữ cho đoạn code đó cùng 1 hàng nhưng co thể xuống dòng cho đẹp
        */
          return (
            <div>
            {sender ==='robot' && (
              <img src="img/robot.png" width="50" />
            )}
            {message}
            {sender ==='user' && (
              <img src="img/user.png" width="50"/>
            )}
            </div>
          );
      }
      /*
      <input></input> and <input /> is the same meaning and it call Self-closing element
      */
     /*
     khi dùng div cho function trên thì inspect web sẽ có thêm 1 thẻ div, do đó để loại bỏ thẻ div ko quan trọng đó ta có thể thay <div></div> bằng <>....</>
     Nó sẽ vẫn là div nhưng khi inspect sẽ mất đi cấp thẻ div không quan trọng đó
     Đây gọi là Fragment, nhóm element nhưng không tạo thêm thẻ div ngoài

     Ngoài ra nếu <></> ko căn chỉnh được dòng thì <div></div> sẽ làm được, nên
     linh động giữa hai cái để căn chỉnh hoặc làm gọn code hơn
     */
      // Dùng function=component để tạo App , không nên dùng const

      function ChatMessages(){ 
        const chatMessages = [{
          message:'Hello chatbot', 
          sender:'user',
          id:'id1'
        },
        {
          message:'Hello! How can I help you?',
          sender:'robot',
          id:'id2'
        },
        {
          message:'Can you get me todays date?',
          sender:'user',
          id:'id3'
        },
        {
          message:'Today is September 27',
          sender:'robot',
          id:'id4'
        }];

        return (
          <>
              {chatMessages.map((chatMessage) => 
              {
              return(
              <ChatMessage 
              message = {chatMessage.message}
              sender = {chatMessage.sender}
              key = {chatMessage.id}
              />
              );
              })}
          </>
        );
      }
      // tên function luôn bắt đầu bằng chữ in hoa
      // thì mới sử dụng được
      function App()
      {
        return (
          <>
            <ChatInput />
            <ChatMessages />  
          </>
        );
      }
    /*
            {ChatInput()}  
        <ChatInput></ChatInput>
        is the same and the under is our own html
    */
    /*
    div là container hay vật chứa
    có thể chứa nhiều elements
    */  


      const container = document.querySelector('.js-container');
      ReactDOM.createRoot(container).render(<App />);
    </script>
  </body>
</html>
